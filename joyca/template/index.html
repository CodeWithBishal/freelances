<!DOCTYPE html>
<html lang="en">

<head class="max-sm:overflow-x-hidden">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joyca.fr</title>
  <link rel="shortcut icon" href="{{ytPfp}}">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" integrity="sha256-5uKiXEwbaQh9cgd2/5Vp6WmMnsUr3VZZw0a8rKnOKNU=" crossorigin="anonymous">
  <style>
    .profile-pic {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 2px solid #fff;
    }

    .twitter {
      background:url("{{twitterData.dataURL}}");
      height: 17vh;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .twitter-bg {
      background: linear-gradient(rgba(29, 161, 242, 0.4), rgba(29, 161, 242, 0.4));
    }

    .instagram {
      background: url("/static/instagram.jpg");
      height: 17vh;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .instagram-bg {
      background: linear-gradient(45DEG, rgba(64, 93, 230, 0.4), rgba(88, 81, 219, 0.4), rgba(131, 58, 180, 0.4), rgba(193, 53, 132, 0.4), rgba(225, 48, 108, 0.4), rgba(253, 29, 29, 0.4))
    }

    .youtube {
      background: url("{{YTBanner.dataURL}}");
      height: 17vh;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .youtube-bg {
      background: linear-gradient(rgba(255, 0, 0, 0.4), rgba(255, 0, 0, 0.4));
    }
  </style>
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
</head>

<body class="bg-black text-white">
  <div class="max-sm:overflow-x-hidden flex md:container mx-auto my-4">
    <div class="sidebar-main w-16 md:w-[30%]">

      <div class="sidebar flex md:items-end  flex-col sticky top-0">
        <div class="md:h-[25vh]"></div>
        <ul class="flex flex-col text-2xl space-y-3 md:px-11 font-bold w-full  ">
          <li
            class="flex md:justify-start items-center gap-3 justify-center  mr-4 md:w-fit  hover:bg-gray-900 hover:cursor-pointer px-5 py-3 hover:rounded-full">
            <span class="text-3xl material-symbols-outlined"> home </span> <a href="/"><span
                class="hidden md:block">Home</span></a>
          </li>
          <li
            class="flex md:justify-start items-center gap-3 justify-center  mr-4 md:w-fit  hover:bg-gray-900 hover:cursor-pointer px-5 py-3 hover:rounded-full">
            <span class="text-3xl material-symbols-outlined"> youtube_activity </span><a href="/youtube"><span
                class="hidden md:block">YouTube</span></a>
          </li>
          <li
            class="flex md:justify-start items-center gap-3 justify-center  mr-4 md:w-fit  hover:bg-gray-900 hover:cursor-pointer px-5 py-3 hover:rounded-full">
            <svg viewBox="0 0 24 24" aria-hidden="true"
              class="invert w-8 m-auto r-4qtqp9 r-yyyyoo r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-lrsllp r-1nao33i r-16y2uox r-8kz0gk">
              <g>
                <path
                  d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z">
                </path>
              </g>
            </svg>
            <a href="/twitter"><span class="hidden md:block">Twitter</span></a>
          </li>
          <li
            class="flex md:justify-start items-center gap-3 justify-center  mr-4 md:w-fit  hover:bg-gray-900 hover:cursor-pointer px-5 py-3 hover:rounded-full">


            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2476 2476" class="invert w-8 m-auto" id="instagram">
              <path
                d="M825.4 1238c0-227.9 184.7-412.7 412.6-412.7 227.9 0 412.7 184.8 412.7 412.7 0 227.9-184.8 412.7-412.7 412.7-227.9 0-412.6-184.8-412.6-412.7m-223.1 0c0 351.1 284.6 635.7 635.7 635.7s635.7-284.6 635.7-635.7-284.6-635.7-635.7-635.7S602.3 886.9 602.3 1238m1148-660.9c0 82 66.5 148.6 148.6 148.6 82 0 148.6-66.6 148.6-148.6s-66.5-148.5-148.6-148.5-148.6 66.5-148.6 148.5M737.8 2245.7c-120.7-5.5-186.3-25.6-229.9-42.6-57.8-22.5-99-49.3-142.4-92.6-43.3-43.3-70.2-84.5-92.6-142.3-17-43.6-37.1-109.2-42.6-229.9-6-130.5-7.2-169.7-7.2-500.3s1.3-369.7 7.2-500.3c5.5-120.7 25.7-186.2 42.6-229.9 22.5-57.8 49.3-99 92.6-142.4 43.3-43.3 84.5-70.2 142.4-92.6 43.6-17 109.2-37.1 229.9-42.6 130.5-6 169.7-7.2 500.2-7.2 330.6 0 369.7 1.3 500.3 7.2 120.7 5.5 186.2 25.7 229.9 42.6 57.8 22.4 99 49.3 142.4 92.6 43.3 43.3 70.1 84.6 92.6 142.4 17 43.6 37.1 109.2 42.6 229.9 6 130.6 7.2 169.7 7.2 500.3 0 330.5-1.2 369.7-7.2 500.3-5.5 120.7-25.7 186.3-42.6 229.9-22.5 57.8-49.3 99-92.6 142.3-43.3 43.3-84.6 70.1-142.4 92.6-43.6 17-109.2 37.1-229.9 42.6-130.5 6-169.7 7.2-500.3 7.2-330.5 0-369.7-1.2-500.2-7.2M727.6 7.5c-131.8 6-221.8 26.9-300.5 57.5-81.4 31.6-150.4 74-219.3 142.8C139 276.6 96.6 345.6 65 427.1 34.4 505.8 13.5 595.8 7.5 727.6 1.4 859.6 0 901.8 0 1238s1.4 378.4 7.5 510.4c6 131.8 26.9 221.8 57.5 300.5 31.6 81.4 73.9 150.5 142.8 219.3 68.8 68.8 137.8 111.1 219.3 142.8 78.8 30.6 168.7 51.5 300.5 57.5 132.1 6 174.2 7.5 510.4 7.5 336.3 0 378.4-1.4 510.4-7.5 131.8-6 221.8-26.9 300.5-57.5 81.4-31.7 150.4-74 219.3-142.8 68.8-68.8 111.1-137.9 142.8-219.3 30.6-78.7 51.6-168.7 57.5-300.5 6-132.1 7.4-174.2 7.4-510.4s-1.4-378.4-7.4-510.4c-6-131.8-26.9-221.8-57.5-300.5-31.7-81.4-74-150.4-142.8-219.3C2199.4 139 2130.3 96.6 2049 65c-78.8-30.6-168.8-51.6-300.5-57.5-132-6-174.2-7.5-510.4-7.5-336.3 0-378.4 1.4-510.5 7.5">
              </path>
            </svg><a href="/instagram"><span class="hidden md:block">Instagram</span></a>
          </li>
        </ul>

      </div>


    </div>
    <div class="main-feed w-90 max-sm:w-[83%] border-[1px] border-x-gray-600 border-y-black ">
      <div class="top flex p-3 sticky z-[999] top-0 bg-black backdrop-blur-3xl opacity-80">
        <div class="absolute w-16 h-1 rounded-full bg-blue-500 bottom-0 left-[44%] "></div>
        <div class="left bg-red-3001 w-full flex justify-center font-bold text-lg">Joyca.fr</div>
      </div>
      <div class="h-[1px] w-full bg-gray-700"></div>


      <div class="posts">
        {% for data in allData %}
        {% if data.platform == "YouTube" %}
        <div class="post">
          <div class="flex">
            <div class="image max-sm:hidden m-4">
              <img class="w-16 rounded-full max-sm:hidden" src="https://unavatar.io/youtube/Joyca" alt="">
            </div>
            <div class="content my-3 ml-3">
              <a href="https://www.youtube.com/channel/UCow2IGnug1l3Xazkrc5jM_Q" target="_blank"><span
                  class="font-bold hover:underline cursor-pointer text-white">{{data.channelNameYT}}</span></a> <span
                class="text-gray-500">@{{data.platform}} ¬∑ {{data.publishDateYT}} ¬∑ üëÅÔ∏è {{data.viewsYT}}</span>
              <div>{{data.videoTitleYT}}</div>
              <div class="postimg m-4 ml-0">
                {% comment %} <img class="rounded-xl"
                  src="https://pbs.twimg.com/media/GEGqnodacAAoyCO?format=jpg&name=900x900" alt=""> {% endcomment %}
                <video id="{{entry.videoIdYT}}" class="video-js vjs-default-skin" controls width="550" height="264"
                  data-setup='{ "techOrder": ["youtube"], "preload": "false", "sources": [{ "type": "video/youtube", "src": "https://www.youtube.com/watch?v={{ data.videoIdYT }}"}] }'>
                </video>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        {% if data.platform == "Twitter" %}
        <div class="post">
          <div class="flex">
            <div class="image max-sm:hidden m-4">
              <img class="rounded-full max-sm:hidden w-[20px] h-[20px]" src="{{twitterData.dpURL}}" alt="">
            </div>
            <div class="content my-3 ml-3">
              <a href="https://twitter.com/joycaoff" target="_blank"><span
                  class="font-bold hover:underline cursor-pointer text-white">JoycaOff</span></a> <span
                class="text-gray-500">@{{data.platform}} ¬∑ {{data.publishDateYT}} ¬∑ ‚ù§Ô∏è {{data.twitterLikes}}</span>
              <div><a href="{{data.tweetLink}}" target="_blank"
                  rel="noopener noreferrer">{{data.tweetText|truncatechars:120}}</a></div>
              <div class="postimg flex justify-center m-4 ml-0">
                {% if data.twitterIsVideo == "False" and data.twitterMediaURL != ""%}
                <img src="{{data.twitterMediaURL}}" alt="" class="">
                {% elif data.twitterIsVideo == "True" %}
                <video id="my-video-twitter{{data.sno}}" class="video-js" controls preload="auto" width="550"
                  height="264" poster="{{data.twitterThumbnailURL}}" data-setup="{}">
                  <source src="{{data.twitterMediaURL}}" type="video/mp4" />
                  <source type="application/x-mpegURL" src="{{data.twitterMediaURL}}">
                  <p class="vjs-no-js">
                    {{data.twitterMediaURL}}
                    To view this video please enable JavaScript, and consider upgrading to a
                    web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                  </p>
                </video>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        {% endif %}
        {% if data.platform == "Instagram" %}
        <div class="post">
          <div class="flex">
            <div class="image max-sm:hidden m-4">
              <img class="rounded-full max-sm:hidden" src="/static/instagram.jpg" width="100px" height="100px" alt="">
            </div>
            <div class="content my-3 ml-3">
              <a href="https://www.instagram.com/joyca/" target="_blank"><span
                  class="font-bold hover:underline cursor-pointer text-white">Joyca</span></a> <span
                class="text-gray-500">@{{data.platform}} ¬∑ {{data.publishDateYT}} ¬∑ ‚ù§Ô∏è
                {{data.instaLikes}}</span>
              <div><a href="https://www.instagram.com/p/{{data.instaPostLink}}/" target="_blank"
                  rel="noopener noreferrer">{{data.instaDesc|truncatechars:120}}</a></div>
              <div class="postimg flex justify-center m-4 ml-0">
                {% if data.instaIsVideo == "True" %}
                <video id="my-video-insta-{{data.sno}}" class="video-js" controls preload="auto" width="550" height="264"
                  poster="/static/instagram/thumbnail/{{data.instaPostLink}}/{{data.instaThumbnailURL}}" data-setup="{}">
                  <source src="/static/instagram/videos/{{data.instaVideoURL}}" type="video/mp4" />
                  <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a
                    web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                  </p>
                </video>
                 {% elif data.instaIsVideo == "False" and data.instaMediaLinks != "" %}
                {% comment %} {% if data.instaIsSingle %}
                <img src="{{data.instaMediaLinks}}" alt="">
                {% endif %}  {% endcomment %}
                <section class="splide w-[28vw] max-sm:w-[80vw]" id={{data.instaPostLink}}>
                  <div class="splide__track">
                    <ul class="splide__list">
                      {% for links in data.instaMediaLinks %}
                        <img src="/static/instagram/media/{{data.instaPostLink}}/{{links}}" alt="" class="splide__slide">
                      {% endfor %}
                    </ul>
                  </div>
                </section>
        {% endif %}

      </div>
    </div>
  </div>
</div>
        {% endif %}

        {% endfor %}
      </div>
    </div>
    <div class="info w-[50%] bg-red-5044 sticky top-0 hidden md:block">

      <div class="sticky top-0 z-[999]">
        <div class="whats w-full m-3 bg-[#16181c] w-1/2 rounded-xl space-y-3">
          <div class="item hover:bg-gray-800 hover:rounded-xl cursor-pointer relative">
            <div class="twitter"></div>
            <div class="h-[80px] w-full twitter-bg flex row rounded-b-xl items-center justify-start">
              <div>
                <img src="{{twitterData.dpURL}}" alt="Profile Picture" class="profile-pic ml-[20px]">
              </div>
              <div>
                <a href="https://twitter.com/JoycaOff" class="text-2xl pl-3 " target="_blank"
                  rel="noopener noreferrer">@JoycaOff</a> {{twitterData.followerCount}} Followers
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="h-[20px]"></div>
      <div class="sticky top-0 z-[999]">
        <div class="whats w-full sticky top-0 m-3 bg-[#16181c] w-1/2 rounded-xl space-y-3">
          <div class="item hover:bg-gray-800 hover:rounded-xl cursor-pointer relative">
            <div class="youtube"></div>
            <div class="h-[80px] youtube-bg flex rounded-b-xl row items-center justify-start">
              <div>
                <img src="https://unavatar.io/youtube/joyca" alt="Profile Picture" class="ml-[20px] profile-pic">
              </div>
              <div>
                <a href="https://www.youtube.com/@joyca" class="text-2xl pl-3 " target="_blank"
                  rel="noopener noreferrer">@Joyca</a> {{YTBanner.subsCount}} Subscribers
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="h-[20px]"></div>
      <div class="sticky top-0 z-[999]">
        <div class="whats w-full sticky top-0 m-3 bg-[#16181c] w-1/2 rounded-xl space-y-3">
          <div class="item hover:bg-gray-800 hover:rounded-xl cursor-pointer relative">
            <div class="instagram"></div>
            <div class="h-[80px] instagram-bg rounded-b-xl flex row items-center justify-start">
              <div>
                <img src="/static/instagram.jpg" alt="Profile Picture" class="profile-pic ml-[20px]">
              </div>
              <div>
                <a href="https://www.instagram.com/joyca/" class="text-2xl pl-3 " target="_blank"
                  rel="noopener noreferrer">@Joyca</a> {{instaData.followerCount}} Followers
              </div>
            </div>
          </div>
        </div>
      </div>
      {% comment %} <div class="h-[50px] w-full sticky top-0 z-[999] ml-[18px] bg-red-500">eqwe</div> {% endcomment %}
    </div>
</body>
<script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
<script src="/static/Youtube.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js" integrity="sha256-FZsW7H2V5X9TGinSjjwYJ419Xka27I8XPDmWryGlWtw=" crossorigin="anonymous"></script>
<script>
  {% comment %} const videoElements = document.querySelectorAll('video');

  videoElements.forEach((videoElement) => {
    player.on('play', () => {
      videoElements.forEach((otherVideo) => {
        if (otherVideo !== videoElement) {
          const otherPlayer = videojs(otherVideo);
          otherPlayer.pause();
        }
      });
    });
  }); {% endcomment %}

  // Function to check if scrolled near the bottom of the page
  var isLoading = false;
  var pageNumber = 1;
  function isScrolledNearBottom(threshold = 100) {
    const documentHeight = document.documentElement.scrollHeight;
    const windowHeight = window.innerHeight;
    const scrollTop = window.scrollY || window.pageYOffset;

    return ((scrollTop + windowHeight) >= (documentHeight - threshold));
  }

  // Function to load more content (replace this with your actual logic)
  function loadMoreContent() {
    // Simulate fetching new data (replace with your API call or logic)
    pageNumber++;
    console.log("Fetching new data...");
    console.log(pageNumber)
    //isLoading = false
    // Add the new content to the page (replace with your DOM manipulation)
    // ...
  }

  // Event listener for scroll event
  window.addEventListener("scroll", () => {
    if (isScrolledNearBottom() && !isLoading) {
      isLoading = true;
      loadMoreContent();
    }
  });
  document.addEventListener( 'DOMContentLoaded', function() {
    var elms = document.getElementsByClassName( 'splide' );
    for ( var i = 0; i < elms.length; i++ ) {
      new Splide( elms[ i ] ).mount();
    }
  } );
</script>
<style>
  .vjs-poster {
    display: none;
  }

  @media only screen and (max-width: 768px) {
    .video-js {
      height: 30vh;
      width: 70vw;
    }
  }
</style>

</html>