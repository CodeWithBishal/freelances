<!-- youtube.html -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="/static/video-js.min.css" />
    <!-- <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" /> -->
    <title>YouTube Entries</title>
</head>

<body>
    <h1>YouTube Entries</h1>
    <ul>
        {% for entry in youtube %}
        <li>
            <h2>{{ entry.videoTitleYT }}</h2>
            <p><strong>Published:</strong> {{ entry.publishDateYT }}</p>
            <p><strong>ID:</strong> {{ entry.videoIdYT }}</p>
            <p><a href="https://www.youtube.com/watch?v={{ entry.videoIdYT }}">https://www.youtube.com/watch?v={{
                    entry.videoIdYT }}</a></p>
            <p><strong>Views:</strong> {{ entry.viewsYT }}</p>
            <p><strong>Description:</strong> {{ entry.descriptionYT }}</p>
            <video id="{{entry.videoIdYT}}" class="video-js vjs-default-skin" controls autoplay width="640" height="264"
                data-setup='{ "techOrder": ["youtube"], "preload": "auto", "sources": [{ "type": "video/youtube", "src": "https://www.youtube.com/watch?v={{ entry.videoIdYT }}"}] }'>
            </video>

            <p><a href="{{ entry.thumbnailYT }}" target="_blank"><img src="{{ entry.thumbnailYT }}"
                        alt="{{ entry.videoTitleYT }}"></a></p>
        </li>
        {% endfor %}
    </ul>
</body>
<script src="/static/video.min.js"></script>
<!-- <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script> -->
<script src="/static/Youtube.min.js"></script>
<script>
    const videoElements = document.querySelectorAll('video');

    videoElements.forEach((videoElement) => {
        player.on('play', () => {
            videoElements.forEach((otherVideo) => {
                if (otherVideo !== videoElement) {
                    const otherPlayer = videojs(otherVideo);
                    otherPlayer.pause();
                }
            });
        });
    });

</script>

</html>